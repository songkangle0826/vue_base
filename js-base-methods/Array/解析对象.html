<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>数据对象解析</title>
</head>
<body>

</body>
<script type="text/javascript">

    let json = {
        "permissions":[
            {
                "id":5,
                "childs":[
                    {
                        "id":6,
                        "childs":[
                            {
                                "id":2,
                                "childs":null,
                            },
                            {
                                "id":52,
                                "childs":null,
                            },
                            {
                                "id":58,
                                "childs":null,
                            }
                        ],
                    },
                    {
                        "id":14,
                        "childs":[
                            {
                                "id":51,
                                "childs":null,
                            },
                            {
                                "id":57,
                                "childs":null,
                            }
                        ],
                    },
                    {
                        "id":15,
                        "childs":[
                            {
                                "id":53,
                                "childs":null,
                            },
                            {
                                "id":59,
                                "childs":null,
                            }
                        ],
                    },
                    {
                        "id":16,
                        "childs":[
                            {
                                "id":54,
                                "childs":null,
                            },
                            {
                                "id":55,
                                "childs":null,
                            },
                            {
                                "id":60,
                                "childs":null,
                            },
                            {
                                "id":61,
                                "childs":null,
                            }
                        ],
                    },
                    {
                        "id":17,
                        "childs":[
                            {
                                "id":56,
                                "childs":null,
                            },
                            {
                                "id":62,
                                "childs":null,
                            }
                        ],
                    }
                ],
            },
            {
                "id":9,
                "childs":[
                    {
                        "id":18,
                        "childs":[
                            {
                                "id":43,
                                "childs":null,
                            },
                            {
                                "id":63,
                                "childs":null,
                            },
                            {
                                "id":76,
                                "childs":null,
                            }
                        ],
                    },
                    {
                        "id":19,
                        "childs":[
                            {
                                "id":44,
                                "childs":null,
                            },
                            {
                                "id":45,
                                "childs":null,
                            },
                            {
                                "id":46,
                                "childs":null,
                            },
                            {
                                "id":47,
                                "childs":null,
                            },
                            {
                                "id":48,
                                "childs":null,
                            }
                        ],
                    }
                ],
            },
            {
                "id":10,
                "childs":[
                    {
                        "id":23,
                        "childs":null,
                    },
                    {
                        "id":22,
                        "childs":null,
                    },
                    {
                        "id":24,
                        "childs":null,
                    },
                    {
                        "id":21,
                        "childs":[
                            {
                                "id":41,
                                "childs":null,
                            }
                        ],
                    },
                    {
                        "id":20,
                        "childs":[
                            {
                                "id":40,
                                "childs":null,

                            },
                            {
                                "id":77,
                                "childs":null,
                            },
                            {
                                "id":42,
                                "childs":null,
                            }
                        ],
                    }
                ],
            },
            {
                "id":3,
                "childs":[
                    {
                        "id":4,
                        "childs":[
                            {
                                "id":1,
                                "childs":null,
                            },
                            {
                                "id":32,
                                "childs":null,
                            },
                            {
                                "id":33,
                                "childs":null,
                            },
                            {
                                "id":34,
                                "childs":null,
                            }
                        ],
                    }
                ],
            },
            {
                "id":11,
                "childs":[
                    {
                        "id":26,
                        "childs":[
                            {
                                "id":35,
                                "childs":null,
                            },
                            {
                                "id":36,
                                "childs":null,
                            },
                            {
                                "id":37,
                                "childs":null,
                            },
                            {
                                "id":49,
                                "childs":null,
                            },
                            {
                                "id":50,
                                "childs":null,
                            },
                            {
                                "id":64,
                                "childs":null,
                            },
                            {
                                "id":65,
                                "childs":null,
                            }
                        ],
                    },
                    {
                        "id":28,
                        "childs":[
                            {
                                "id":66,
                                "childs":null,
                            }
                        ],
                    }
                ],
            },
            {
                "id":12,
                "childs":[
                    {
                        "id":29,
                        "childs":[
                            {
                                "id":67,
                                "childs":null,
                            },
                            {
                                "id":68,
                                "childs":null,
                            },
                            {
                                "id":69,
                                "childs":null,
                            },
                            {
                                "id":70,
                                "childs":null,
                            }
                        ],
                    },
                    {
                        "id":30,
                        "childs":[
                            {
                                "id":71,
                                "childs":null,
                            },
                            {
                                "id":72,
                                "childs":null,
                            },
                            {
                                "id":73,
                                "childs":null,
                            },
                            {
                                "id":74,
                                "childs":null,
                            },
                            {
                                "id":75,
                                "childs":null,
                            }
                        ],
                    }
                ],
            }
        ]
    }
    let x = {}
    json.permissions.forEach(function(item,index){
        if(!x.hasOwnProperty(item.id)){
            x[item.id] = {}
            item.childs.forEach(function(seItem,seIndex){
                if(seItem.childs != null){
                    if(seItem.childs != null){
                        seItem.childs.forEach(function(thItem,thIndex){
                            if(x[item.id].hasOwnProperty(seItem.id)){
                                x[item.id][seItem.id].push(seItem.childs[thIndex].id)
                            }else{
                                x[item.id][seItem.id] = [seItem.childs[thIndex].id]
                            }
                        })
                    }
                }
            })
        }
    })
    console.log(x)
</script>
</html>